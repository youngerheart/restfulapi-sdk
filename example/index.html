<!DOCTYPE html>
<html>
  <head>
    <title>restfulAPI-SDK test</title>
    <meta charset="utf-8">
  </head>
  <body>
    <div></div>
    <script type="text/javascript" src="dist/sdk.js"></script>
    <script type="text/javascript">
      var url = {
        hehe: {
          haha: 'sdf',
          wow: ':order/change'
        },
        yoo: ':yoo'
      };
      var config = {
        urlPrefix: 'api/'
      };
      APISDK.httpCode((code) => {
        console.log(code);
      });
      var api = new APISDK(url, config);
      // var p1 = api.hehe.haha.get()
      // .then(() => {}, (res, httpCode, defer) => {
      //   setTimeout(() => {defer(true, {yoo: 'ok'})}, 400);
      // }).then((res, defer) => {
      //   defer(true);
      // }, (defer) => {
      // });
      // var p2 = api.hehe.wow.post({
      //   id: 'wow',
      //   eee: 123
      // }, {
      //   yoo: '123'
      // }).then(() => {}, (res, httpCode, defer) => {
      //   setTimeout(() => {defer(true, {yoo: 'p2 ok'})}, 200);
      // }).then((res, defer) => {
      //   defer(false, {haha: 'finish'});
      // });

      // var promiseArr = [p1, p2];
      // var all = APISDK.all(promiseArr)
      // .then((resArr, errorArr, defer) => {
      //   console.log(resArr, errorArr);
      //   defer(false, {hehe: '1'});
      // });

      var p3 = api.hehe.haha.cache().then((res) => {
        console.log(err);
      }, (err) => {console.log(err)});
      // all.then((res) => {
      //   console.log(res);
      // }, (res) => {
      //   console.log(res);
      // });

    </script>
  </body>
</html>
